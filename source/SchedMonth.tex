%
% SchedMonth.tex
% Recurring Events Schedule
%
% Aleph Objects Operations Manual
%
% Copyright (C) 2014, 2015 Aleph Objects, Inc.
%
% This document is licensed under the Creative Commons Attribution 4.0
% International Public License (CC BY-SA 4.0) by Aleph Objects, Inc.
%

%%% Monthly Meeting
\newcommand{\calrow}[1]{%
%\node[anchor=base,xshift=0.5ex](sun){S};
%\node[base right=of sun](mon){M};
\node[anchor=base,xshift=0.5ex](mon){M};
\node[base right=of mon](tue){T};
\node[base right=of tue](wed){W};
\node[base right=of wed](thu){T};
%\node[base right=of thu](fri){\ \!F};
%\node[base right=of fri](sat){\ \!S};
\node[base right=of thu](fri){F};
\node[base right=of fri](sat){S};
\node[base right=of sat](sun){S};
\node[black,above=of thu]{\textbf{#1}};
}

\newcommand{\calperiod}[1]{\calendar[dates=\the\year-#1-01 to \the\year-#1-last,
  every day/.style={anchor=base}, % Center days
  day text={\%d=},rounded corners=0,anchor=base,text height=1ex,text depth=-0.5ex]
\holidays;}

% Company Holidays 2015:
% New Year's Day 2015-01-01 - Thursday
% Memorial Day 2015-05-25 - Monday
% Independence Day 2015-07-04 - Saturday
% Labor Day - 2015-09-07 - Monday
% Thanksgiving Day - 2015-11-26 - Thursday
% Day after Thanksgiving - 2015-11-27 - Friday
% Christmas - 2015-12-25 - Friday

% Company meetings, the first business day of the month at 8AM, for 2015.
\newcommand{\holidays}{
if (equals=01-02) {\node [fill=yellow,draw,star] {};}
if (equals=02-02) {\node [fill=yellow,draw,star] {};}
if (equals=03-02) {\node [fill=yellow,draw,star] {};}
if (equals=04-01) {\node [fill=yellow,draw,star] {};}
if (equals=05-01) {\node [fill=yellow,draw,star] {};}
if (equals=06-01) {\node [fill=yellow,draw,star] {};}
if (equals=07-01) {\node [fill=yellow,draw,star] {};}
if (equals=08-03) {\node [fill=yellow,draw,star] {};}
if (equals=09-01) {\node [fill=yellow,draw,star] {};}
if (equals=10-01) {\node [fill=yellow,draw,star] {};}
if (equals=11-02) {\node [fill=yellow,draw,star] {};}
if (equals=12-01) {\node [fill=yellow,draw,star] {};}
}

\begin{figure}
\thisfloatpagestyle{empty}
\begin{tikzpicture}
[every calendar/.style={week list}]
\sffamily
\matrix[%
row 1/.style={black,node distance=.3ex},%
row 3/.style={black,node distance=.3ex},%
row 5/.style={black,node distance=.3ex},%
row 7/.style={black,node distance=.3ex},
column sep=1ex,%
draw=black,thick,rounded corners=30pt,%
postaction={decorate,decoration={markings,mark=at position 0.51 with
{\node[fill=white,text=black,font={\bfseries\Large}] (year) {\the\year};}}}
]{%
\calrow{January} & \calrow{February} & \calrow{March} \\
\calperiod{01} & \calperiod{02} & \calperiod{03} \\[0.4cm]
\calrow{April} & \calrow{May} & \calrow{June} \\
\calperiod{04} & \calperiod{05} & \calperiod{06} \\[0.4cm]
\calrow{July} & \calrow{August} & \calrow{September} \\
\calperiod{07} & \calperiod{08} & \calperiod{09} \\[0.4cm]
\calrow{October} & \calrow{November} & \calrow{December} \\
\calperiod{10} & \calperiod{11} & \calperiod{12} \\[0.4cm]
};
\end{tikzpicture}
\caption{Monthly Company Meetings at 8:00AM MST}
 \label{fig:ao_month_meet}
\end{figure}
